!function(){"use strict";window.DD=window.DD||{},window.DD.bp=function(){var n,e,t,i,r,o,a,s,p,m,u,f,x,c,d,h={isResponsive:!0,baseFontSize:16,breakpoints:[{name:"xxs",px:359},{name:"xs",px:480},{name:"s",px:640},{name:"m",px:768},{name:"l",px:1024},{name:"xl",px:1244},{name:"xxl",px:1410}],staticRange:{min:0,max:"xl"}};return t=function(){var t=h.breakpoints.sort(function(n,e){return n.px<e.px?-1:n.px>e.px?1:0});n={},e={};for(var i=0,r=t.length,o=r-1;r>i;i+=1)n[t[i].name]=parseInt(t[i].px,10),o>i&&(e[t[i].name]=parseInt(t[i+1].px-1,10))},t(),i=function(n,e){var t,i=function(n){return"string"==typeof n&&(n=n.replace(/\s/g,""),/^\d+$/.test(n)&&(n=parseInt(n,10))),n},r=n,o=e||0;return"string"==typeof n&&-1!==n.indexOf(",")&&0===o&&(t=n.split(","),2===t.length&&(r=t[0],o=t[1])),{min:i(r),max:i(o)}},r=function(n){return n/h.baseFontSize},o=function(t,i){if("number"==typeof t)return r(t);var o=i===!0?e:n,a="0";for(var s in o)o.hasOwnProperty(s)&&t===s.toLowerCase()&&(a=r(o[s]));return"0"===a&&console.warn("DD.bp: Breakpoint '"+t+"' doesn't exist - replacing with 0"),a},a=function(n,e,t){if("string"!=typeof t&&(t="width"),"width"!==t)return!1;var r=o(h.staticRange.min),a=o(h.staticRange.max,!0),s=i(n,e),p=o(s.min),m=o(s.max);return 0===s.max?p>=r&&a>p?!0:!1:0===s.min?m>=a?!0:!1:p>a||r>m?!1:a>m?!1:!0},s=function(n,e){var t=o(n),i="string"==typeof e?e:"width";return"(min-"+i+": "+t+"em)"},p=function(n,e){var t=o(n,!0),i="string"==typeof e?e:"width";return"(max-"+i+": "+t+"em)"},m=function(n,e,t){var i=o(n),r=o(e,!0),a="string"==typeof t?t:"width";return"(min-"+a+": "+i+"em) and (max-"+a+": "+r+"em)"},u=function(n,e,t){var r=i(n,e),o=r.min,a=r.max;return"string"!=typeof t&&(t="width"),"retina"===o||"hdpi"===o?"(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-device-pixel-ratio: 1.5)":0===a?s(o,t):0===o?p(a,t):m(o,a,t)},f=function(n,e){return u(n,e,"height")},x=function(n,e,t){return h.isResponsive===!1?a(n,e,t):window.matchMedia?window.matchMedia(u(n,e,t)).matches:(console.warn("DD.bp: Match Media not supported by this browser. Consider adding a polyfill."),!1)},c=function(n,e){return x(n,e,"height")},d=function(n){if("boolean"==typeof n.isResponsive&&(h.isResponsive=n.isResponsive),"number"==typeof n.baseFontSize&&(h.baseFontSize=n.baseFontSize),"object"==typeof n.breakpoints&&n.breakpoints.length>0){for(var e=!0,i=n.breakpoints,r=0,o=i.length;o>r;r+=1)(i[r].hasOwnProperty("name")&&i[r].hasOwnProperty("px"))===!1&&(e=!1);if(!e)return console.warn("DD.bp: Invalid breakpoints array entered. Please use the format {name: 'string', px: number}"),!1;h.breakpoints=n.breakpoints,t()}return!0},{get:u,getHeight:f,is:x,isHeight:c,options:d}}()}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRkLmJyZWFrcG9pbnRzLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkREIiwiYnAiLCJfbWluQnJlYWtwb2ludHMiLCJfbWF4QnJlYWtwb2ludHMiLCJfaW5pdEJyZWFrcG9pbnRzIiwiX3BhcnNlTWluTWF4SW5wdXRzIiwiX3B4VG9FbXMiLCJfYnBUb0VtcyIsIl9icElzVmFsaWRGb3JTdGF0aWMiLCJfYnBNaW4iLCJfYnBNYXgiLCJfYnBCZXR3ZWVuIiwiZ2V0IiwiZ2V0SGVpZ2h0IiwiaXMiLCJpc0hlaWdodCIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsImlzUmVzcG9uc2l2ZSIsImJhc2VGb250U2l6ZSIsImJyZWFrcG9pbnRzIiwibmFtZSIsInB4Iiwic3RhdGljUmFuZ2UiLCJtaW4iLCJtYXgiLCJzb3J0ZWRCcmVha3BvaW50cyIsInNvcnQiLCJhIiwiYiIsImkiLCJsZW4iLCJsZW5ndGgiLCJsYXN0IiwicGFyc2VJbnQiLCJicEFycmF5IiwicGFyc2VWYWx1ZSIsInZhbCIsInJlcGxhY2UiLCJ0ZXN0IiwicmVzdWx0TWluIiwicmVzdWx0TWF4IiwiaW5kZXhPZiIsInNwbGl0IiwiYnJlYWtwb2ludCIsImlzTWF4IiwibGlzdCIsImVtcyIsImtleSIsImhhc093blByb3BlcnR5IiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwid2FybiIsInByb3BlcnR5IiwiYnBWYWxpZE1pbiIsImJwVmFsaWRNYXgiLCJwYXJzZWQiLCJicE1pbiIsImJwTWF4IiwiYnBUeXBlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJvcHRzIiwiaXNWYWxpZCIsImJwcyJdLCJtYXBwaW5ncyI6IkNBSUEsV0FDQSxZQUVBQSxRQUFBQyxHQUFBRCxPQUFBQyxPQVlBRCxPQUFBQyxHQUFBQyxHQUFBLFdBQ0EsR0FBQUMsR0FDQUMsRUF1Q0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBbERBQyxH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QUFBLEVBQUFDLEVBQUFpQyxFQUFBaEMsT0FBQUQsRUFBQUQsRUFBQUEsR0FBQSxHQUNBa0MsRUFBQWxDLEdBQUFtQixlQUFBLFNBQUFlLEVBQUFsQyxHQUFBbUIsZUFBQSxVQUFBLElBQ0FjLEdBQUEsRUFJQSxLQUFBQSxFQUtBLE1BREFaLFNBQUFDLEtBQUEsaUdBQ0EsQ0FKQW5DLEdBQUFHLFlBQUEwQyxFQUFBMUMsWUFDQWhCLElBT0EsT0FBQSxJQUlBUSxJQUFBQSxFQUNBQyxVQUFBQSxFQUNBQyxHQUFBQSxFQUNBQyxTQUFBQSxFQUNBQyxRQUFBQSIsImZpbGUiOiJwbHVnaW5zLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGVsb2l0dGUgRGlnaXRhbCBnbG9iYWwgbmFtZXNwYWNlIGZvciBtb2R1bGVzXG4gKiBAbmFtZXNwYWNlIEREXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR3aW5kb3cuREQgPSB3aW5kb3cuREQgfHwge307XG5cblx0LyoqXG5cdCAqIEJyZWFrcG9pbnRzIGZvciBKYXZhU2NyaXB0LiBXb3JrcyB3aXRoIHRoZSBEZWxvaXR0ZSBEaWdpdGFsIFNDU1MgQGJwIG1peGluXG5cdCAqXG5cdCAqIEBuYW1lc3BhY2UgYnBcblx0ICogQG1lbWJlcm9mIEREXG5cdCAqIEB2ZXJzaW9uIDEuMC4wXG5cdCAqIEBjb3B5cmlnaHQgMjAxMi0yMDE0IERlbG9pdHRlIERpZ2l0YWwgQXVzdHJhbGlhIC0gaHR0cDovL3d3dy5kZWxvaXR0ZWRpZ2l0YWwuY29tL2F1XG5cdCAqIEBhdXRob3IgRGVsb2l0dGUgRGlnaXRhbCBBdXN0cmFsaWEgZGVsb2l0dGVkaWdpdGFsQGRlbG9pdHRlLmNvbS5hdVxuXHQgKiBAbGljZW5zZSBCU0QgMy1DbGF1c2UgKGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2UpXG5cdCAqL1xuXHR3aW5kb3cuREQuYnAgPSAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIF9taW5CcmVha3BvaW50cyxcblx0XHRcdF9tYXhCcmVha3BvaW50cyxcblx0XHRcdF9vcHRpb25zID0ge1xuXHRcdFx0XHRpc1Jlc3BvbnNpdmU6IHRydWUsXG5cdFx0XHRcdGJhc2VGb250U2l6ZTogMTYsXG5cdFx0XHRcdGJyZWFrcG9pbnRzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ3h4cycsXG5cdFx0XHRcdFx0XHRweDogMzU5XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRuYW1lOiAneHMnLFxuXHRcdFx0XHRcdFx0cHg6IDQ4MFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ3MnLFxuXHRcdFx0XHRcdFx0cHg6IDY0MFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ20nLFxuXHRcdFx0XHRcdFx0cHg6IDc2OFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ2wnLFxuXHRcdFx0XHRcdFx0cHg6IDEwMjRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICd4bCcsXG5cdFx0XHRcdFx0XHRweDogMTI0NFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ3h4bCcsXG5cdFx0XHRcdFx0XHRweDogMTQxMFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XSxcblx0XHRcdFx0c3RhdGljUmFuZ2U6IHtcblx0XHRcdFx0XHRtaW46IDAsXG5cdFx0XHRcdFx0bWF4OiAneGwnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRfaW5pdEJyZWFrcG9pbnRzLFxuXHRcdFx0X3BhcnNlTWluTWF4SW5wdXRzLFxuXHRcdFx0X3B4VG9FbXMsXG5cdFx0XHRfYnBUb0Vtcyxcblx0XHRcdF9icElzVmFsaWRGb3JTdGF0aWMsXG5cdFx0XHRfYnBNaW4sXG5cdFx0XHRfYnBNYXgsXG5cdFx0XHRfYnBCZXR3ZWVuLFxuXHRcdFx0Z2V0LFxuXHRcdFx0Z2V0SGVpZ2h0LFxuXHRcdFx0aXMsXG5cdFx0XHRpc0hlaWdodCxcblx0XHRcdG9wdGlvbnM7XG5cblx0XHQvKipcblx0XHQgKiBTb3J0cyB0aGUgYnJlYWtwb2ludHMgYW5kIGFzc2lnbnMgdGhlbSB0byBhbiBhc3NvY2lhdGl2ZSBhcnJheSBmb3IgbW9yZSBlZmZpY2llbnQgbG9va3VwLlxuXHRcdCAqIEltbWVkaWF0ZWx5IGludm9rZWQgb24gaW5pdGlhbGlzYXRpb25cblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0X2luaXRCcmVha3BvaW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly9zb3J0IHRoZSBicmVha3BvaW50cyBpbnRvIG9yZGVyIG9mIHNtYWxsZXN0IHRvIGxhcmdlc3Rcblx0XHRcdHZhciBzb3J0ZWRCcmVha3BvaW50cyA9IF9vcHRpb25zLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHQvLyBvbmx5IHNvcnQgaWYgdGhlIGNvcnJlY3Qgb2JqZWN0cyBhcmUgcHJlc2VudFxuXHRcdFx0XHRpZiAoYS5weCA8IGIucHgpIHtcblx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYS5weCA+IGIucHgpIHtcblx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHJlc2V0IHRoZSBicmVha3BvaW50c1xuXHRcdFx0X21pbkJyZWFrcG9pbnRzID0ge307XG5cdFx0XHRfbWF4QnJlYWtwb2ludHMgPSB7fTtcblxuXHRcdFx0Ly8gbG9vcCB0aHJvdWdoIHNvcnRlZCBicmVha3BvaW50cyB0byBnZW5lcmF0ZSBhIHF1aWNrIGxvb2t1cCBvYmplY3QgdXNpbmcgdGhlIG5hbWUgYXMgYSBrZXlcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3J0ZWRCcmVha3BvaW50cy5sZW5ndGgsIGxhc3QgPSBsZW4gLSAxOyBpIDwgbGVuOyBpICs9IDEpIHtcblx0XHRcdFx0X21pbkJyZWFrcG9pbnRzW3NvcnRlZEJyZWFrcG9pbnRzW2ldLm5hbWVdID0gcGFyc2VJbnQoc29ydGVkQnJlYWtwb2ludHNbaV0ucHgsIDEwKTtcblxuXHRcdFx0XHQvLyBza2lwIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QgYXMgd2UgYXNzdW1lIHRoZXJlIGlzIG5vIG1heGltdW0gZm9yIHRoZSBsYXN0XG5cdFx0XHRcdGlmIChpIDwgbGFzdCkge1xuXHRcdFx0XHRcdC8vIHRoZSBtYXggYnJlYWtwb2ludCBvZiB0aGUgY3VycmVudCBzaXplIGlzIHRoZSBuZXh0IGJyZWFrcG9pbnRzXG5cdFx0XHRcdFx0Ly8gd2lkdGggbWludXMgMXB4IHNvIHRoZXJlIGlzIG5vIG92ZXJsYXAgYmV0d2VlbiBicmVha3BvaW50c1xuXHRcdFx0XHRcdF9tYXhCcmVha3BvaW50c1tzb3J0ZWRCcmVha3BvaW50c1tpXS5uYW1lXSA9IHBhcnNlSW50KHNvcnRlZEJyZWFrcG9pbnRzW2kgKyAxXS5weCAtIDEsIDEwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0X2luaXRCcmVha3BvaW50cygpO1xuXG5cdFx0LyoqXG5cdFx0ICogU3BsaXRzIHN0cmluZyBzeW50YXggJ3hzLG0nIGludG8gc2VwYXJhdGUgdmFsdWVzICd4cycgYW5kICdtJ1xuXHRcdCAqIENvbnZlcnRzIHN0cmluZyAnNScgdG8gbnVtZXJpYyA1XG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBOdW1iZXIgaW4gcGl4ZWxzIG9yIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1heCBOdW1iZXIgaW4gcGl4ZWxzIG9yIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBwYXJzZWQgYXMgYSBudW1iZXJcblx0XHQgKi9cblx0XHRfcGFyc2VNaW5NYXhJbnB1dHMgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdFx0dmFyIHBhcnNlVmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mICh2YWwpID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0Ly8gU3RyaXAgd2hpdGVzcGFjZVxuXHRcdFx0XHRcdFx0dmFsID0gdmFsLnJlcGxhY2UoL1xccy9nLCAnJyk7XG5cblx0XHRcdFx0XHRcdC8vIElmIHZhbCBvbmx5IGNvbnRhaW5zIGRpZ2l0cywgY29udmVydCBpdCB0byBhIG51bWJlclxuXHRcdFx0XHRcdFx0aWYgKC9eXFxkKyQvLnRlc3QodmFsKSkge1xuXHRcdFx0XHRcdFx0XHR2YWwgPSBwYXJzZUludCh2YWwsIDEwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRicEFycmF5LFxuXHRcdFx0XHRyZXN1bHRNaW4gPSBtaW4sXG5cdFx0XHRcdHJlc3VsdE1heCA9IG1heCB8fCAwO1xuXG5cdFx0XHQvLyBjaGVjayBpZiBpdCdzIHVzaW5nIHRoZSBzdHJpbmcgc3ludGF4LCBpZiBzbyAtIHNwbGl0IGl0XG5cdFx0XHRpZiAodHlwZW9mIChtaW4pID09PSAnc3RyaW5nJyAmJiBtaW4uaW5kZXhPZignLCcpICE9PSAtMSAmJiByZXN1bHRNYXggPT09IDApIHtcblx0XHRcdFx0YnBBcnJheSA9IG1pbi5zcGxpdCgnLCcpO1xuXHRcdFx0XHRpZiAoYnBBcnJheS5sZW5ndGggPT09IDIpIHtcblx0XHRcdFx0XHRyZXN1bHRNaW4gPSBicEFycmF5WzBdO1xuXHRcdFx0XHRcdHJlc3VsdE1heCA9IGJwQXJyYXlbMV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bWluOiBwYXJzZVZhbHVlKHJlc3VsdE1pbiksXG5cdFx0XHRcdG1heDogcGFyc2VWYWx1ZShyZXN1bHRNYXgpXG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDb252ZXJ0cyBhIG51bWJlciBvZiBwaXhlbHMgaW50byBlbVxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHB4IE51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBjb252ZXJ0ZWQgbnVtYmVyIGluIGVtIGFzIGEgc3RyaW5nXG5cdFx0ICovXG5cdFx0X3B4VG9FbXMgPSBmdW5jdGlvbihweCkge1xuXHRcdFx0cmV0dXJuIHB4IC8gX29wdGlvbnMuYmFzZUZvbnRTaXplO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDb252ZXJ0cyBhIGJyZWFrcG9pbnQgbmFtZS92YWx1ZSAoZS5nLiBsKSB0byB0aGUgcHggdmFyaWFibGUgdGhlbiB0byBlbXNcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gYnJlYWtwb2ludCBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge0Jvb2xlYW59IFtpc01heD1mYWxzZV0gRmxhZyB0byBkZXRlcm1pbmUgaWYgdGhlIG1pbiBvciBtYXggb2YgdGhlIGJyZWFrcG9pbnQgbmVlZHMgdG8gYmUgdXNlZFxuXHRcdCAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGNvbnZlcnRlZCBudW1iZXIgaW4gZW0gYXMgYSBzdHJpbmdcblx0XHQgKi9cblx0XHRfYnBUb0VtcyA9IGZ1bmN0aW9uKGJyZWFrcG9pbnQsIGlzTWF4KSB7XG5cdFx0XHRpZiAodHlwZW9mIChicmVha3BvaW50KSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0cmV0dXJuIF9weFRvRW1zKGJyZWFrcG9pbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbGlzdCA9IChpc01heCA9PT0gdHJ1ZSkgPyBfbWF4QnJlYWtwb2ludHMgOiBfbWluQnJlYWtwb2ludHMsXG5cdFx0XHRcdGVtcyA9ICcwJztcblxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGxpc3QpIHtcblx0XHRcdFx0aWYgKGxpc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGlmIChicmVha3BvaW50ID09PSBrZXkudG9Mb3dlckNhc2UoKSkge1xuXHRcdFx0XHRcdFx0ZW1zID0gX3B4VG9FbXMobGlzdFtrZXldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGVtcyA9PT0gJzAnKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybignREQuYnA6IEJyZWFrcG9pbnQgXFwnJyArIGJyZWFrcG9pbnQgKyAnXFwnIGRvZXNuXFwndCBleGlzdCAtIHJlcGxhY2luZyB3aXRoIDAnKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVtcztcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIHRoZSBicmVha3BvaW50IHByb3ZpZGVkIGZhbGxzIGluc2lkZSB0aGUgdmFsaWQgc3RhdGljIG1pbi9tYXggcmVnaW9uXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIGFzIGEgbnVtYmVyIGluIHBpeGVscywgb3IgYXMgc3RyaW5nIG5vdGF0aW9uIGNvbnRhaW5pbmcgYm90aCBicmVha3BvaW50c1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1heCBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge0Jvb2xlYW59IFtwcm9wZXJ0eT0nd2lkdGgnXSB3aGljaCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgKGUuZy4gd2lkdGggb3IgaGVpZ2h0KVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBicmVha3BvaW50IGZpdHMgaW5zaWRlIHRoZSBzdGF0aWMgcmFuZ2Ugb3Igbm90XG5cdFx0ICovXG5cdFx0X2JwSXNWYWxpZEZvclN0YXRpYyA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBwcm9wZXJ0eSkge1xuXHRcdFx0aWYgKHR5cGVvZiAocHJvcGVydHkpICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHRwcm9wZXJ0eSA9ICd3aWR0aCc7IC8vZGVmYXVsdCB0byB3aWR0aCBiYXNlZCBtZWRpYSBxdWVyeVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAocHJvcGVydHkgIT09ICd3aWR0aCcpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgYnBWYWxpZE1pbiA9IF9icFRvRW1zKF9vcHRpb25zLnN0YXRpY1JhbmdlLm1pbiksXG5cdFx0XHRcdGJwVmFsaWRNYXggPSBfYnBUb0Vtcyhfb3B0aW9ucy5zdGF0aWNSYW5nZS5tYXgsIHRydWUpLFxuXHRcdFx0XHRwYXJzZWQgPSBfcGFyc2VNaW5NYXhJbnB1dHMobWluLCBtYXgpLFxuXHRcdFx0XHRicE1pbiA9IF9icFRvRW1zKHBhcnNlZC5taW4pLFxuXHRcdFx0XHRicE1heCA9IF9icFRvRW1zKHBhcnNlZC5tYXgpO1xuXG5cdFx0XHQvLyBpZiBtYXggaXMgMCB3ZSBoYXZlIGEgbWluLWFuZC1hYm92ZSBzaXR1YXRpb25cblx0XHRcdGlmIChwYXJzZWQubWF4ID09PSAwKSB7XG5cdFx0XHRcdC8vIG5lZWQgdG8gY2hlY2sgdGhhdCB0aGUgbWluIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsaWQgbWluLFxuXHRcdFx0XHQvLyBBTkQgYWxzbyB0aGF0IHRoZSBtaW4gaXMgbGVzcyB0aGFuIHRoZSB2YWxpZCBtYXhpbXVtXG5cdFx0XHRcdGlmIChicE1pbiA+PSBicFZhbGlkTWluICYmIGJwTWluIDwgYnBWYWxpZE1heCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBtaW4gaXMgMCB3ZSBoYXZlIGEgbWF4LWFuZC1iZWxvdyBzaXR1YXRpb25cblx0XHRcdGlmIChwYXJzZWQubWluID09PSAwKSB7XG5cdFx0XHRcdGlmIChicE1heCA+PSBicFZhbGlkTWF4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIHRoZSBtaW4gaXMgYWJvdmUgdGhlIHZhbGlkIG1heCwgb3IgdGhlIG1heCBpcyBiZWxvdyB0aGUgdmFsaWQgbWluXG5cdFx0XHRpZiAoYnBNaW4gPiBicFZhbGlkTWF4IHx8IGJwTWF4IDwgYnBWYWxpZE1pbikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIHRoZSBicmVha3BvaW50IGlzIGEgYnAtYmV0d2VlbiAoYXNzdW1lZCBiZWNhdXNlICRtYXggYW5kICRtaW4gYXJlbid0IDApXG5cdFx0XHQvLyBkb24ndCBzaG93IGlmIHRoZSBtYXggaXNuJ3QgYWJvdmUgdGhlIHZhbGlkIG1heFxuXHRcdFx0aWYgKGJwTWF4IDwgYnBWYWxpZE1heCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGEgbWluLXdpZHRoIG1lZGlhIHF1ZXJ5IGJhc2VkIG9uIGJwIG5hbWUgb3IgcHhcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWluIEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfSBbcHJvcGVydHk9J3dpZHRoJ10gUHJvcGVydHkgdG8gY2hlY2sgdXNpbmcgYSBtZWRpYSBxdWVyeS4gZS5nLiB3aWR0aCBvciBoZWlnaHRcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IE1lZGlhIHF1ZXJ5IHN0cmluZ1xuXHRcdCAqL1xuXHRcdF9icE1pbiA9IGZ1bmN0aW9uKG1pbiwgcHJvcGVydHkpIHtcblx0XHRcdHZhciBicE1pbiA9IF9icFRvRW1zKG1pbiksXG5cdFx0XHRcdGJwVHlwZSA9ICh0eXBlb2YgKHByb3BlcnR5KSA9PT0gJ3N0cmluZycpID8gcHJvcGVydHkgOiAnd2lkdGgnO1xuXG5cdFx0XHRyZXR1cm4gJyhtaW4tJyArIGJwVHlwZSArICc6ICcgKyBicE1pbiArICdlbSknO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGEgbWF4LXdpZHRoIG1lZGlhIHF1ZXJ5IGJhc2VkIG9uIGJwIG5hbWUgb3IgcHhcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWF4IEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfSBbcHJvcGVydHk9J3dpZHRoJ10gUHJvcGVydHkgdG8gY2hlY2sgdXNpbmcgYSBtZWRpYSBxdWVyeS4gZS5nLiB3aWR0aCBvciBoZWlnaHRcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IE1lZGlhIHF1ZXJ5IHN0cmluZ1xuXHRcdCAqL1xuXHRcdF9icE1heCA9IGZ1bmN0aW9uKG1heCwgcHJvcGVydHkpIHtcblx0XHRcdHZhciBicE1heCA9IF9icFRvRW1zKG1heCwgdHJ1ZSksXG5cdFx0XHRcdGJwVHlwZSA9ICh0eXBlb2YgKHByb3BlcnR5KSA9PT0gJ3N0cmluZycpID8gcHJvcGVydHkgOiAnd2lkdGgnO1xuXG5cdFx0XHRyZXR1cm4gJyhtYXgtJyArIGJwVHlwZSArICc6ICcgKyBicE1heCArICdlbSknO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGEgbWluLXdpZHRoIGFuZCBtYXgtd2lkdGggbWVkaWEgcXVlcnkgYmFzZWQgb24gYnAgbmFtZSAoY2FuIGJlIHRoZSBzYW1lIGJwIG5hbWUpIG9yIHB4XG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1heCBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gW3Byb3BlcnR5PSd3aWR0aCddIFByb3BlcnR5IHRvIGNoZWNrIHVzaW5nIGEgbWVkaWEgcXVlcnkuIGUuZy4gd2lkdGggb3IgaGVpZ2h0XG5cdFx0ICogQHJldHVybiB7U3RyaW5nfSBNZWRpYSBxdWVyeSBzdHJpbmdcblx0XHQgKi9cblx0XHRfYnBCZXR3ZWVuID0gZnVuY3Rpb24obWluLCBtYXgsIHByb3BlcnR5KSB7XG5cdFx0XHR2YXIgYnBNaW4gPSBfYnBUb0VtcyhtaW4pLFxuXHRcdFx0XHRicE1heCA9IF9icFRvRW1zKG1heCwgdHJ1ZSksXG5cdFx0XHRcdGJwVHlwZSA9ICh0eXBlb2YgKHByb3BlcnR5KSA9PT0gJ3N0cmluZycpID8gcHJvcGVydHkgOiAnd2lkdGgnO1xuXG5cdFx0XHRyZXR1cm4gJyhtaW4tJyArIGJwVHlwZSArICc6ICcgKyBicE1pbiArICdlbSkgYW5kIChtYXgtJyArIGJwVHlwZSArICc6ICcgKyBicE1heCArICdlbSknO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCcmVha3BvaW50IGZ1bmN0aW9uIHRoYXQgY2FuIHRha2UgdGhlIGlucHV0IG9mIGEgbWluIGFuZCBtYXhcblx0XHQgKiBicmVha3BvaW50IGJ5IG5hbWUgb3IgbnVtYmVyIChpbiBweCkgYWxvbmcgd2l0aCBhIHByb3BlcnR5XG5cdFx0ICogKGxpa2Ugd2lkdGggb3IgaGVpZ2h0KSBhbmQgcmV0dXJucyB0aGUgbWVkaWEgcXVlcnkgYXMgYSBzdHJpbmdcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gbGFyZ2UgYW5kIGFib3ZlXG5cdFx0ICogREQuYnAuZ2V0KCdsJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIDMwMHB4IGFuZCBhYm92ZVxuXHRcdCAqIERELmJwLmdldCgzMDApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBsYXJnZSBhbmQgYmVsb3dcblx0XHQgKiBERC5icC5nZXQoMCwgJ2wnKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gMzAwcHggYW5kIGJlbG93XG5cdFx0ICogREQuYnAuZ2V0KDAsIDMwMCk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIEJldHdlZW4gc21hbGwgYW5kIGxhcmdlXG5cdFx0ICogREQuYnAuZ2V0KCdzJywgJ2wnKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gQmV0d2VlbiAxMDBweCBhbmQgMzAwcHhcblx0XHQgKiBERC5icC5nZXQoMTAwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBIaWdoIHJlc29sdXRpb24gZGlzcGxheXMgKGNhbiB1c2UgJ2hkcGknIGFzIHdlbGwpXG5cdFx0ICogREQuYnAuZ2V0KCdyZXRpbmEnKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gQ2FuIG1peCBhbmQgbWF0Y2ggbmFtZXMgYW5kIG51bWJlcnMgLSBiZXR3ZWVuIDIwMHB4IGFuZCB4bGFyZ2Vcblx0XHQgKiBERC5icC5nZXQoMjAwLCAneGwnKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gQmV0d2VlbiBzbWFsbCBhbmQgOTYwcHhcblx0XHQgKiBERC5icC5nZXQoJ3MnLCA5NjApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBDYW4gdXNlIGEgc2luZ2xlIHN0cmluZyAobm8gc3BhY2VzKSAtIHVzZWZ1bCBmb3IgcGFzc2luZyB0aHJvdWdoIGZyb20gSFRNTCB0byBKU1xuXHRcdCAqIERELmJwLmdldCgnbSxsJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIENhbiBhbHNvIG1peCBuYW1lcyBhbmQgbnVtYmVyc1xuXHRcdCAqIERELmJwLmdldCgneHMsMTAwMCcpO1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWluIEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzLCBvciBpbiBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIG5vdGF0aW9uXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW21heD0wXSBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gW3Byb3BlcnR5PSd3aWR0aCddIFByb3BlcnR5IHRvIGNoZWNrIHVzaW5nIGEgbWVkaWEgcXVlcnkuIGUuZy4gd2lkdGggb3IgaGVpZ2h0XG5cdFx0ICogQHJldHVybiB7U3RyaW5nfSBNZWRpYSBxdWVyeSBzdHJpbmdcblx0XHQgKi9cblx0XHRnZXQgPSBmdW5jdGlvbihtaW4sIG1heCwgcHJvcGVydHkpIHtcblx0XHRcdHZhciBwYXJzZWQgPSBfcGFyc2VNaW5NYXhJbnB1dHMobWluLCBtYXgpLFxuXHRcdFx0XHRicE1pbiA9IHBhcnNlZC5taW4sXG5cdFx0XHRcdGJwTWF4ID0gcGFyc2VkLm1heDtcblxuXHRcdFx0aWYgKHR5cGVvZiAocHJvcGVydHkpICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHRwcm9wZXJ0eSA9ICd3aWR0aCc7IC8vZGVmYXVsdCB0byB3aWR0aCBiYXNlZCBtZWRpYSBxdWVyeVxuXHRcdFx0fVxuXG5cdFx0XHQvL2NoZWNrIHdoYXQgdHlwZSBvZiBicCBpdCBpc1xuXHRcdFx0aWYgKGJwTWluID09PSAncmV0aW5hJyB8fCBicE1pbiA9PT0gJ2hkcGknKSB7XG5cdFx0XHRcdHJldHVybiAnKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMS41KSwgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMS41KSwgKC1vLW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDMvMiksIChtaW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpJztcblx0XHRcdH0gZWxzZSBpZiAoYnBNYXggPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIF9icE1pbihicE1pbiwgcHJvcGVydHkpO1xuXHRcdFx0fSBlbHNlIGlmIChicE1pbiA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gX2JwTWF4KGJwTWF4LCBwcm9wZXJ0eSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gX2JwQmV0d2VlbihicE1pbiwgYnBNYXgsIHByb3BlcnR5KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogU2hvcnRjdXQgZm9yIHRoZSBnZXQoKSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBoZWlnaHRcblx0XHQgKiBiYXNlZCBtZWRpYSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgbWVkaWEgcXVlcnkgYXMgYSBzdHJpbmdcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gSGVpZ2h0IG9mIDMwMHB4IGFuZCBhYm92ZVxuXHRcdCAqIERELmJwLmdldEhlaWdodCgzMDApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBIZWlnaHQgb2YgMzAwcHggYW5kIGJlbG93XG5cdFx0ICogREQuYnAuZ2V0SGVpZ2h0KDAsIDMwMCk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIEJldHdlZW4gMTAwcHggYW5kIDMwMHB4IGhpZ2hcblx0XHQgKiBERC5icC5nZXRIZWlnaHQoMTAwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWluIEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzLCBvciBpbiBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIG5vdGF0aW9uXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW21heD0wXSBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEByZXR1cm4ge1N0cmluZ30gTWVkaWEgcXVlcnkgc3RyaW5nXG5cdFx0ICovXG5cdFx0Z2V0SGVpZ2h0ID0gZnVuY3Rpb24obWluLCBtYXgpIHtcblx0XHRcdHJldHVybiBnZXQobWluLCBtYXgsICdoZWlnaHQnKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQnJlYWtwb2ludCBmdW5jdGlvbiB0aGF0IHRha2VzIHRoZSBzYW1lIGlucHV0cyBhcyBnZXQoKSBidXRcblx0XHQgKiBpbnN0ZWFkIG9mIHJldHVybmluZyB0aGUgbWVkaWEgcXVlcnkgYXMgYSBzdHJpbmcgcmV0dXJuc1xuXHRcdCAqIGlmIHRoZSBjdXJyZW50IHBhZ2UgbWF0Y2hlcyB0aGF0IHF1ZXJ5IGFzIGEgYm9vbGVhbiB1c2luZ1xuXHRcdCAqIHdpbmRvdy5tYXRjaE1lZGlhKG1xKS5tYXRjaGVzXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgcGFnZSBpcyBiZXR3ZWVuIHhzIGFuZCBzXG5cdFx0ICogREQuYnAuaXMoJ3hzLHMnKTtcblx0XHQgKiBERC5icC5pcygneHMnLCdzJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgcGFnZSBpcyBiZXR3ZWVuIDAgYW5kIDMwMHB4IHdpZGVcblx0XHQgKiBERC5icC5pcygnMCwzMDAnKTtcblx0XHQgKiBERC5icC5pcygwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWluIEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzLCBvciBpbiBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIG5vdGF0aW9uXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW21heD0wXSBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gW3Byb3BlcnR5PSd3aWR0aCddIFByb3BlcnR5IHRvIGNoZWNrIHVzaW5nIGEgbWVkaWEgcXVlcnkuIGUuZy4gd2lkdGggb3IgaGVpZ2h0XG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRpcyA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBwcm9wZXJ0eSkge1xuXHRcdFx0aWYgKF9vcHRpb25zLmlzUmVzcG9uc2l2ZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIF9icElzVmFsaWRGb3JTdGF0aWMobWluLCBtYXgsIHByb3BlcnR5KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKSB7XG5cdFx0XHRcdHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShnZXQobWluLCBtYXgsIHByb3BlcnR5KSkubWF0Y2hlcztcblx0XHRcdH1cblxuXHRcdFx0Y29uc29sZS53YXJuKCdERC5icDogTWF0Y2ggTWVkaWEgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuIENvbnNpZGVyIGFkZGluZyBhIHBvbHlmaWxsLicpO1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFNob3J0Y3V0IGZvciB0aGUgaXMoKSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBoZWlnaHRcblx0XHQgKiBiYXNlZCBtZWRpYSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgbWVkaWEgcXVlcnkgYXMgYSBib29sZWFuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgcGFnZSBpcyBiZXR3ZWVuIDAgYW5kIDMwMHB4IGhpZ2hcblx0XHQgKiBERC5icC5pc0hlaWdodCgnMCwzMDAnKTtcblx0XHQgKiBERC5icC5pc0hlaWdodCgwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbWluIEJyZWFrcG9pbnQgbmFtZSBhcyBhIHN0cmluZywgb3IgYXMgYSBudW1iZXIgaW4gcGl4ZWxzLCBvciBpbiBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIG5vdGF0aW9uXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW21heD0wXSBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0aXNIZWlnaHQgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdFx0cmV0dXJuIGlzKG1pbiwgbWF4LCAnaGVpZ2h0Jyk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFZhbGlkIG9wdGlvbnMgZm9yIHRoZSBCcmVha3BvaW50cyBhcnJheVxuXHRcdCAqXG5cdFx0ICogQHR5cGVkZWYgIHtPYmplY3R9IERELmJwLkJyZWFrcG9pbnRPcHRpb25zXG5cdFx0ICogQHByb3BlcnR5IHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgYnJlYWtwb2ludCBlLmcuICdzJywgJ20nLCAnbCdcblx0XHQgKiBAcHJvcGVydHkge051bWJlcn0gcHggTnVtYmVyIGluIHB4IGZvciB0aGUgc2l6ZSBvZiB0aGUgYnJlYWtwb2ludFxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogVmFsaWQgb3B0aW9ucyBmb3IgdGhlIEJyZWFrcG9pbnRzIGxpYnJhcnlcblx0XHQgKlxuXHRcdCAqIEB0eXBlZGVmICB7T2JqZWN0fSBERC5icC5PcHRpb25zXG5cdFx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IFtiYXNlRm9udFNpemVdIE51bWJlciBpbiBweCB0byBiZSB1c2VkIGFzIGEgYmFzZSBmb250IHNpemUgaW4gb3JkZXIgdG8gY2FsY3VsYXRlIGVtIHZhbHVlc1xuXHRcdCAqIEBwcm9wZXJ0eSB7REQuYnAuQnJlYWtwb2ludE9wdGlvbnNbXX0gW2JyZWFrcG9pbnRzXVxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlciB1cGRhdGFibGUgb3B0aW9uc1xuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyB1cGRhdGUgdGhlIGJhc2UgZm9udCBzaXplIG9ubHlcblx0XHQgKiBERC5icC5vcHRpb25zKHtcblx0XHQgKiAgIGJhc2VGb250U2l6ZTogMTRcblx0XHQgKiB9KTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gdXBkYXRlIHRoZSBicmVha3BvaW50c1xuXHRcdCAqIERELmJwLm9wdGlvbnMoe1xuXHRcdCAqICAgYnJlYWtwb2ludHM6IFtcblx0XHQgKiAgICAgeyBuYW1lOiAnc21hbGwnLCBweDogNDAwIH0sXG5cdFx0ICogICAgIHsgbmFtZTogJ21lZGl1bScsIHB4OiA4MDAgfSxcblx0XHQgKiAgICAgeyBuYW1lOiAnbGFyZ2UnLCBweDogMTIwMCB9XG5cdFx0ICogICBdXG5cdFx0ICogfSk7XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIHtERC5icC5PcHRpb25zfSBvcHRzIE9wdGlvbnMgaW5zaWRlIHRoZSBsaWJyYXJ5IHRvIGJlIHVwZGF0ZWRcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdG9wdGlvbnMgPSBmdW5jdGlvbihvcHRzKSB7XG5cdFx0XHRpZiAodHlwZW9mIChvcHRzLmlzUmVzcG9uc2l2ZSkgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRfb3B0aW9ucy5pc1Jlc3BvbnNpdmUgPSBvcHRzLmlzUmVzcG9uc2l2ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiAob3B0cy5iYXNlRm9udFNpemUpID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRfb3B0aW9ucy5iYXNlRm9udFNpemUgPSBvcHRzLmJhc2VGb250U2l6ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiAob3B0cy5icmVha3BvaW50cykgPT09ICdvYmplY3QnICYmIG9wdHMuYnJlYWtwb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgaXNWYWxpZCA9IHRydWUsXG5cdFx0XHRcdFx0YnBzID0gb3B0cy5icmVha3BvaW50cztcblxuXHRcdFx0XHQvLyBsb29wIHRocm91Z2ggdGhlIGJyZWFrcG9pbnRzIHRvIGNoZWNrIHZhbGlkaXR5XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBicHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcblx0XHRcdFx0XHRpZiAoKGJwc1tpXS5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpICYmIGJwc1tpXS5oYXNPd25Qcm9wZXJ0eSgncHgnKSkgPT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRpc1ZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlzVmFsaWQpIHtcblx0XHRcdFx0XHRfb3B0aW9ucy5icmVha3BvaW50cyA9IG9wdHMuYnJlYWtwb2ludHM7XG5cdFx0XHRcdFx0X2luaXRCcmVha3BvaW50cygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybignREQuYnA6IEludmFsaWQgYnJlYWtwb2ludHMgYXJyYXkgZW50ZXJlZC4gUGxlYXNlIHVzZSB0aGUgZm9ybWF0IHtuYW1lOiBcXCdzdHJpbmdcXCcsIHB4OiBudW1iZXJ9Jyk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2V0OiBnZXQsXG5cdFx0XHRnZXRIZWlnaHQ6IGdldEhlaWdodCxcblx0XHRcdGlzOiBpcyxcblx0XHRcdGlzSGVpZ2h0OiBpc0hlaWdodCxcblx0XHRcdG9wdGlvbnM6IG9wdGlvbnNcblx0XHR9O1xuXHR9KCkpO1xuXG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
