!function(){"use strict";window.DD=window.DD||{},window.DD.bp=function(){var n,e,t,i,r,o,a,s,p,m,u,f,x,c,d,h={isResponsive:!0,baseFontSize:16,breakpoints:[{name:"xxs",px:359},{name:"xs",px:480},{name:"s",px:640},{name:"m",px:768},{name:"l",px:1024},{name:"xl",px:1244},{name:"xxl",px:1410}],staticRange:{min:0,max:"xl"}};return t=function(){var t=h.breakpoints.sort(function(n,e){return n.px<e.px?-1:n.px>e.px?1:0});n={},e={};for(var i=0,r=t.length,o=r-1;r>i;i+=1)n[t[i].name]=parseInt(t[i].px,10),o>i&&(e[t[i].name]=parseInt(t[i+1].px-1,10))},t(),i=function(n,e){var t,i=function(n){return"string"==typeof n&&(n=n.replace(/\s/g,""),/^\d+$/.test(n)&&(n=parseInt(n,10))),n},r=n,o=e||0;return"string"==typeof n&&-1!==n.indexOf(",")&&0===o&&(t=n.split(","),2===t.length&&(r=t[0],o=t[1])),{min:i(r),max:i(o)}},r=function(n){return n/h.baseFontSize},o=function(t,i){if("number"==typeof t)return r(t);var o=i===!0?e:n,a="0";for(var s in o)o.hasOwnProperty(s)&&t===s.toLowerCase()&&(a=r(o[s]));return"0"===a&&console.warn("DD.bp: Breakpoint '"+t+"' doesn't exist - replacing with 0"),a},a=function(n,e,t){if("string"!=typeof t&&(t="width"),"width"!==t)return!1;var r=o(h.staticRange.min),a=o(h.staticRange.max,!0),s=i(n,e),p=o(s.min),m=o(s.max);return 0===s.max?p>=r&&a>p:0===s.min?m>=a:p>a||r>m?!1:!(a>m)},s=function(n,e){var t=o(n),i="string"==typeof e?e:"width";return"(min-"+i+": "+t+"em)"},p=function(n,e){var t=o(n,!0),i="string"==typeof e?e:"width";return"(max-"+i+": "+t+"em)"},m=function(n,e,t){var i=o(n),r=o(e,!0),a="string"==typeof t?t:"width";return"(min-"+a+": "+i+"em) and (max-"+a+": "+r+"em)"},u=function(n,e,t){var r=i(n,e),o=r.min,a=r.max;return"string"!=typeof t&&(t="width"),"retina"===o||"hdpi"===o?"(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-device-pixel-ratio: 1.5)":0===a?s(o,t):0===o?p(a,t):m(o,a,t)},f=function(n,e){return u(n,e,"height")},x=function(n,e,t){return h.isResponsive===!1?a(n,e,t):window.matchMedia?window.matchMedia(u(n,e,t)).matches:(console.warn("DD.bp: Match Media not supported by this browser. Consider adding a polyfill."),!1)},c=function(n,e){return x(n,e,"height")},d=function(n){if("boolean"==typeof n.isResponsive&&(h.isResponsive=n.isResponsive),"number"==typeof n.baseFontSize&&(h.baseFontSize=n.baseFontSize),"object"==typeof n.breakpoints&&n.breakpoints.length>0){for(var e=!0,i=n.breakpoints,r=0,o=i.length;o>r;r+=1)(i[r].hasOwnProperty("name")&&i[r].hasOwnProperty("px"))===!1&&(e=!1);if(!e)return console.warn("DD.bp: Invalid breakpoints array entered. Please use the format {name: 'string', px: number}"),!1;h.breakpoints=n.breakpoints,t()}return!0},{get:u,getHeight:f,is:x,isHeight:c,options:d}}()}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRkLmJyZWFrcG9pbnRzLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkREIiwiYnAiLCJfbWluQnJlYWtwb2ludHMiLCJfbWF4QnJlYWtwb2ludHMiLCJfaW5pdEJyZWFrcG9pbnRzIiwiX3BhcnNlTWluTWF4SW5wdXRzIiwiX3B4VG9FbXMiLCJfYnBUb0VtcyIsIl9icElzVmFsaWRGb3JTdGF0aWMiLCJfYnBNaW4iLCJfYnBNYXgiLCJfYnBCZXR3ZWVuIiwiZ2V0IiwiZ2V0SGVpZ2h0IiwiaXMiLCJpc0hlaWdodCIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsImlzUmVzcG9uc2l2ZSIsImJhc2VGb250U2l6ZSIsImJyZWFrcG9pbnRzIiwibmFtZSIsInB4Iiwic3RhdGljUmFuZ2UiLCJtaW4iLCJtYXgiLCJzb3J0ZWRCcmVha3BvaW50cyIsInNvcnQiLCJhIiwiYiIsImkiLCJsZW4iLCJsZW5ndGgiLCJsYXN0IiwicGFyc2VJbnQiLCJicEFycmF5IiwicGFyc2VWYWx1ZSIsInZhbCIsInJlcGxhY2UiLCJ0ZXN0IiwicmVzdWx0TWluIiwicmVzdWx0TWF4IiwiaW5kZXhPZiIsInNwbGl0IiwiYnJlYWtwb2ludCIsImlzTWF4IiwibGlzdCIsImVtcyIsImtleSIsImhhc093blByb3BlcnR5IiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwid2FybiIsInByb3BlcnR5IiwiYnBWYWxpZE1pbiIsImJwVmFsaWRNYXgiLCJwYXJzZWQiLCJicE1pbiIsImJwTWF4IiwiYnBUeXBlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJvcHRzIiwiaXNWYWxpZCIsImJwcyJdLCJtYXBwaW5ncyI6IkNBSUEsV0FDQSxZQUVBQSxRQUFBQyxHQUFBRCxPQUFBQyxPQVlBRCxPQUFBQyxHQUFBQyxHQUFBLFdBQ0EsR0FBQUMsR0FDQUMsRUF1Q0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBbERBQyxH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LEVBQUFELEVBQUFBLEdBQUEsR0FDQWtDLEVBQUFsQyxHQUFBbUIsZUFBQSxTQUFBZSxFQUFBbEMsR0FBQW1CLGVBQUEsVUFBQSxJQUNBYyxHQUFBLEVBSUEsS0FBQUEsRUFLQSxNQURBWixTQUFBQyxLQUFBLGlHQUNBLENBSkFuQyxHQUFBRyxZQUFBMEMsRUFBQTFDLFlBQ0FoQixJQU9BLE9BQUEsSUFJQVEsSUFBQUEsRUFDQUMsVUFBQUEsRUFDQUMsR0FBQUEsRUFDQUMsU0FBQUEsRUFDQUMsUUFBQUEiLCJmaWxlIjoicGx1Z2lucy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERlbG9pdHRlIERpZ2l0YWwgZ2xvYmFsIG5hbWVzcGFjZSBmb3IgbW9kdWxlc1xuICogQG5hbWVzcGFjZSBERFxuICovXG47KGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0d2luZG93LkREID0gd2luZG93LkREIHx8IHt9O1xuXG5cdC8qKlxuXHQgKiBCcmVha3BvaW50cyBmb3IgSmF2YVNjcmlwdC4gV29ya3Mgd2l0aCB0aGUgRGVsb2l0dGUgRGlnaXRhbCBTQ1NTIEBicCBtaXhpblxuXHQgKlxuXHQgKiBAbmFtZXNwYWNlIGJwXG5cdCAqIEBtZW1iZXJvZiBERFxuXHQgKiBAdmVyc2lvbiAxLjAuMFxuXHQgKiBAY29weXJpZ2h0IDIwMTItMjAxNCBEZWxvaXR0ZSBEaWdpdGFsIEF1c3RyYWxpYSAtIGh0dHA6Ly93d3cuZGVsb2l0dGVkaWdpdGFsLmNvbS9hdVxuXHQgKiBAYXV0aG9yIERlbG9pdHRlIERpZ2l0YWwgQXVzdHJhbGlhIGRlbG9pdHRlZGlnaXRhbEBkZWxvaXR0ZS5jb20uYXVcblx0ICogQGxpY2Vuc2UgQlNEIDMtQ2xhdXNlIChodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlKVxuXHQgKi9cblx0d2luZG93LkRELmJwID0gKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBfbWluQnJlYWtwb2ludHMsXG5cdFx0XHRfbWF4QnJlYWtwb2ludHMsXG5cdFx0XHRfb3B0aW9ucyA9IHtcblx0XHRcdFx0aXNSZXNwb25zaXZlOiB0cnVlLFxuXHRcdFx0XHRiYXNlRm9udFNpemU6IDE2LFxuXHRcdFx0XHRicmVha3BvaW50czogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICd4eHMnLFxuXHRcdFx0XHRcdFx0cHg6IDM1OVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ3hzJyxcblx0XHRcdFx0XHRcdHB4OiA0ODBcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdzJyxcblx0XHRcdFx0XHRcdHB4OiA2NDBcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdtJyxcblx0XHRcdFx0XHRcdHB4OiA3Njhcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdsJyxcblx0XHRcdFx0XHRcdHB4OiAxMDI0XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRuYW1lOiAneGwnLFxuXHRcdFx0XHRcdFx0cHg6IDEyNDRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICd4eGwnLFxuXHRcdFx0XHRcdFx0cHg6IDE0MTBcblx0XHRcdFx0XHR9XG5cdFx0XHRcdF0sXG5cdFx0XHRcdHN0YXRpY1JhbmdlOiB7XG5cdFx0XHRcdFx0bWluOiAwLFxuXHRcdFx0XHRcdG1heDogJ3hsJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0X2luaXRCcmVha3BvaW50cyxcblx0XHRcdF9wYXJzZU1pbk1heElucHV0cyxcblx0XHRcdF9weFRvRW1zLFxuXHRcdFx0X2JwVG9FbXMsXG5cdFx0XHRfYnBJc1ZhbGlkRm9yU3RhdGljLFxuXHRcdFx0X2JwTWluLFxuXHRcdFx0X2JwTWF4LFxuXHRcdFx0X2JwQmV0d2Vlbixcblx0XHRcdGdldCxcblx0XHRcdGdldEhlaWdodCxcblx0XHRcdGlzLFxuXHRcdFx0aXNIZWlnaHQsXG5cdFx0XHRvcHRpb25zO1xuXG5cdFx0LyoqXG5cdFx0ICogU29ydHMgdGhlIGJyZWFrcG9pbnRzIGFuZCBhc3NpZ25zIHRoZW0gdG8gYW4gYXNzb2NpYXRpdmUgYXJyYXkgZm9yIG1vcmUgZWZmaWNpZW50IGxvb2t1cC5cblx0XHQgKiBJbW1lZGlhdGVseSBpbnZva2VkIG9uIGluaXRpYWxpc2F0aW9uXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdF9pbml0QnJlYWtwb2ludHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vc29ydCB0aGUgYnJlYWtwb2ludHMgaW50byBvcmRlciBvZiBzbWFsbGVzdCB0byBsYXJnZXN0XG5cdFx0XHR2YXIgc29ydGVkQnJlYWtwb2ludHMgPSBfb3B0aW9ucy5icmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0Ly8gb25seSBzb3J0IGlmIHRoZSBjb3JyZWN0IG9iamVjdHMgYXJlIHByZXNlbnRcblx0XHRcdFx0aWYgKGEucHggPCBiLnB4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGEucHggPiBiLnB4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyByZXNldCB0aGUgYnJlYWtwb2ludHNcblx0XHRcdF9taW5CcmVha3BvaW50cyA9IHt9O1xuXHRcdFx0X21heEJyZWFrcG9pbnRzID0ge307XG5cblx0XHRcdC8vIGxvb3AgdGhyb3VnaCBzb3J0ZWQgYnJlYWtwb2ludHMgdG8gZ2VuZXJhdGUgYSBxdWljayBsb29rdXAgb2JqZWN0IHVzaW5nIHRoZSBuYW1lIGFzIGEga2V5XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gc29ydGVkQnJlYWtwb2ludHMubGVuZ3RoLCBsYXN0ID0gbGVuIC0gMTsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdF9taW5CcmVha3BvaW50c1tzb3J0ZWRCcmVha3BvaW50c1tpXS5uYW1lXSA9IHBhcnNlSW50KHNvcnRlZEJyZWFrcG9pbnRzW2ldLnB4LCAxMCk7XG5cblx0XHRcdFx0Ly8gc2tpcCB0aGUgbGFzdCBpdGVtIGluIHRoZSBsaXN0IGFzIHdlIGFzc3VtZSB0aGVyZSBpcyBubyBtYXhpbXVtIGZvciB0aGUgbGFzdFxuXHRcdFx0XHRpZiAoaSA8IGxhc3QpIHtcblx0XHRcdFx0XHQvLyB0aGUgbWF4IGJyZWFrcG9pbnQgb2YgdGhlIGN1cnJlbnQgc2l6ZSBpcyB0aGUgbmV4dCBicmVha3BvaW50c1xuXHRcdFx0XHRcdC8vIHdpZHRoIG1pbnVzIDFweCBzbyB0aGVyZSBpcyBubyBvdmVybGFwIGJldHdlZW4gYnJlYWtwb2ludHNcblx0XHRcdFx0XHRfbWF4QnJlYWtwb2ludHNbc29ydGVkQnJlYWtwb2ludHNbaV0ubmFtZV0gPSBwYXJzZUludChzb3J0ZWRCcmVha3BvaW50c1tpICsgMV0ucHggLSAxLCAxMCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdF9pbml0QnJlYWtwb2ludHMoKTtcblxuXHRcdC8qKlxuXHRcdCAqIFNwbGl0cyBzdHJpbmcgc3ludGF4ICd4cyxtJyBpbnRvIHNlcGFyYXRlIHZhbHVlcyAneHMnIGFuZCAnbSdcblx0XHQgKiBDb252ZXJ0cyBzdHJpbmcgJzUnIHRvIG51bWVyaWMgNVxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtaW4gTnVtYmVyIGluIHBpeGVscyBvciBzdHJpbmcgbm90YXRpb25cblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtYXggTnVtYmVyIGluIHBpeGVscyBvciBzdHJpbmcgbm90YXRpb25cblx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHRoZSBtaW4gYW5kIG1heCB2YWx1ZXMgcGFyc2VkIGFzIGEgbnVtYmVyXG5cdFx0ICovXG5cdFx0X3BhcnNlTWluTWF4SW5wdXRzID0gZnVuY3Rpb24obWluLCBtYXgpIHtcblx0XHRcdHZhciBwYXJzZVZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiAodmFsKSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdC8vIFN0cmlwIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHRcdHZhbCA9IHZhbC5yZXBsYWNlKC9cXHMvZywgJycpO1xuXG5cdFx0XHRcdFx0XHQvLyBJZiB2YWwgb25seSBjb250YWlucyBkaWdpdHMsIGNvbnZlcnQgaXQgdG8gYSBudW1iZXJcblx0XHRcdFx0XHRcdGlmICgvXlxcZCskLy50ZXN0KHZhbCkpIHtcblx0XHRcdFx0XHRcdFx0dmFsID0gcGFyc2VJbnQodmFsLCAxMCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdFx0fSxcblx0XHRcdFx0YnBBcnJheSxcblx0XHRcdFx0cmVzdWx0TWluID0gbWluLFxuXHRcdFx0XHRyZXN1bHRNYXggPSBtYXggfHwgMDtcblxuXHRcdFx0Ly8gY2hlY2sgaWYgaXQncyB1c2luZyB0aGUgc3RyaW5nIHN5bnRheCwgaWYgc28gLSBzcGxpdCBpdFxuXHRcdFx0aWYgKHR5cGVvZiAobWluKSA9PT0gJ3N0cmluZycgJiYgbWluLmluZGV4T2YoJywnKSAhPT0gLTEgJiYgcmVzdWx0TWF4ID09PSAwKSB7XG5cdFx0XHRcdGJwQXJyYXkgPSBtaW4uc3BsaXQoJywnKTtcblx0XHRcdFx0aWYgKGJwQXJyYXkubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdFx0cmVzdWx0TWluID0gYnBBcnJheVswXTtcblx0XHRcdFx0XHRyZXN1bHRNYXggPSBicEFycmF5WzFdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1pbjogcGFyc2VWYWx1ZShyZXN1bHRNaW4pLFxuXHRcdFx0XHRtYXg6IHBhcnNlVmFsdWUocmVzdWx0TWF4KVxuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ29udmVydHMgYSBudW1iZXIgb2YgcGl4ZWxzIGludG8gZW1cblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtICB7TnVtYmVyfSBweCBOdW1iZXIgaW4gcGl4ZWxzXG5cdFx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgY29udmVydGVkIG51bWJlciBpbiBlbSBhcyBhIHN0cmluZ1xuXHRcdCAqL1xuXHRcdF9weFRvRW1zID0gZnVuY3Rpb24ocHgpIHtcblx0XHRcdHJldHVybiBweCAvIF9vcHRpb25zLmJhc2VGb250U2l6ZTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ29udmVydHMgYSBicmVha3BvaW50IG5hbWUvdmFsdWUgKGUuZy4gbCkgdG8gdGhlIHB4IHZhcmlhYmxlIHRoZW4gdG8gZW1zXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IGJyZWFrcG9pbnQgQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtCb29sZWFufSBbaXNNYXg9ZmFsc2VdIEZsYWcgdG8gZGV0ZXJtaW5lIGlmIHRoZSBtaW4gb3IgbWF4IG9mIHRoZSBicmVha3BvaW50IG5lZWRzIHRvIGJlIHVzZWRcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBjb252ZXJ0ZWQgbnVtYmVyIGluIGVtIGFzIGEgc3RyaW5nXG5cdFx0ICovXG5cdFx0X2JwVG9FbXMgPSBmdW5jdGlvbihicmVha3BvaW50LCBpc01heCkge1xuXHRcdFx0aWYgKHR5cGVvZiAoYnJlYWtwb2ludCkgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdHJldHVybiBfcHhUb0VtcyhicmVha3BvaW50KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpc3QgPSAoaXNNYXggPT09IHRydWUpID8gX21heEJyZWFrcG9pbnRzIDogX21pbkJyZWFrcG9pbnRzLFxuXHRcdFx0XHRlbXMgPSAnMCc7XG5cblx0XHRcdGZvciAodmFyIGtleSBpbiBsaXN0KSB7XG5cdFx0XHRcdGlmIChsaXN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRpZiAoYnJlYWtwb2ludCA9PT0ga2V5LnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRcdGVtcyA9IF9weFRvRW1zKGxpc3Rba2V5XSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChlbXMgPT09ICcwJykge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0RELmJwOiBCcmVha3BvaW50IFxcJycgKyBicmVha3BvaW50ICsgJ1xcJyBkb2VzblxcJ3QgZXhpc3QgLSByZXBsYWNpbmcgd2l0aCAwJyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbXM7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIENoZWNrcyBpZiB0aGUgYnJlYWtwb2ludCBwcm92aWRlZCBmYWxscyBpbnNpZGUgdGhlIHZhbGlkIHN0YXRpYyBtaW4vbWF4IHJlZ2lvblxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtaW4gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBhcyBhIG51bWJlciBpbiBwaXhlbHMsIG9yIGFzIHN0cmluZyBub3RhdGlvbiBjb250YWluaW5nIGJvdGggYnJlYWtwb2ludHNcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtYXggQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtCb29sZWFufSBbcHJvcGVydHk9J3dpZHRoJ10gd2hpY2ggcHJvcGVydHkgdG8gY2hlY2sgZm9yIChlLmcuIHdpZHRoIG9yIGhlaWdodClcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgYnJlYWtwb2ludCBmaXRzIGluc2lkZSB0aGUgc3RhdGljIHJhbmdlIG9yIG5vdFxuXHRcdCAqL1xuXHRcdF9icElzVmFsaWRGb3JTdGF0aWMgPSBmdW5jdGlvbihtaW4sIG1heCwgcHJvcGVydHkpIHtcblx0XHRcdGlmICh0eXBlb2YgKHByb3BlcnR5KSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cHJvcGVydHkgPSAnd2lkdGgnOyAvL2RlZmF1bHQgdG8gd2lkdGggYmFzZWQgbWVkaWEgcXVlcnlcblx0XHRcdH1cblxuXHRcdFx0aWYgKHByb3BlcnR5ICE9PSAnd2lkdGgnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJwVmFsaWRNaW4gPSBfYnBUb0Vtcyhfb3B0aW9ucy5zdGF0aWNSYW5nZS5taW4pLFxuXHRcdFx0XHRicFZhbGlkTWF4ID0gX2JwVG9FbXMoX29wdGlvbnMuc3RhdGljUmFuZ2UubWF4LCB0cnVlKSxcblx0XHRcdFx0cGFyc2VkID0gX3BhcnNlTWluTWF4SW5wdXRzKG1pbiwgbWF4KSxcblx0XHRcdFx0YnBNaW4gPSBfYnBUb0VtcyhwYXJzZWQubWluKSxcblx0XHRcdFx0YnBNYXggPSBfYnBUb0VtcyhwYXJzZWQubWF4KTtcblxuXHRcdFx0Ly8gaWYgbWF4IGlzIDAgd2UgaGF2ZSBhIG1pbi1hbmQtYWJvdmUgc2l0dWF0aW9uXG5cdFx0XHRpZiAocGFyc2VkLm1heCA9PT0gMCkge1xuXHRcdFx0XHQvLyBuZWVkIHRvIGNoZWNrIHRoYXQgdGhlIG1pbiBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbGlkIG1pbixcblx0XHRcdFx0Ly8gQU5EIGFsc28gdGhhdCB0aGUgbWluIGlzIGxlc3MgdGhhbiB0aGUgdmFsaWQgbWF4aW11bVxuXHRcdFx0XHRpZiAoYnBNaW4gPj0gYnBWYWxpZE1pbiAmJiBicE1pbiA8IGJwVmFsaWRNYXgpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgbWluIGlzIDAgd2UgaGF2ZSBhIG1heC1hbmQtYmVsb3cgc2l0dWF0aW9uXG5cdFx0XHRpZiAocGFyc2VkLm1pbiA9PT0gMCkge1xuXHRcdFx0XHRpZiAoYnBNYXggPj0gYnBWYWxpZE1heCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB0aGUgbWluIGlzIGFib3ZlIHRoZSB2YWxpZCBtYXgsIG9yIHRoZSBtYXggaXMgYmVsb3cgdGhlIHZhbGlkIG1pblxuXHRcdFx0aWYgKGJwTWluID4gYnBWYWxpZE1heCB8fCBicE1heCA8IGJwVmFsaWRNaW4pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB0aGUgYnJlYWtwb2ludCBpcyBhIGJwLWJldHdlZW4gKGFzc3VtZWQgYmVjYXVzZSAkbWF4IGFuZCAkbWluIGFyZW4ndCAwKVxuXHRcdFx0Ly8gZG9uJ3Qgc2hvdyBpZiB0aGUgbWF4IGlzbid0IGFib3ZlIHRoZSB2YWxpZCBtYXhcblx0XHRcdGlmIChicE1heCA8IGJwVmFsaWRNYXgpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhIG1pbi13aWR0aCBtZWRpYSBxdWVyeSBiYXNlZCBvbiBicCBuYW1lIG9yIHB4XG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gW3Byb3BlcnR5PSd3aWR0aCddIFByb3BlcnR5IHRvIGNoZWNrIHVzaW5nIGEgbWVkaWEgcXVlcnkuIGUuZy4gd2lkdGggb3IgaGVpZ2h0XG5cdFx0ICogQHJldHVybiB7U3RyaW5nfSBNZWRpYSBxdWVyeSBzdHJpbmdcblx0XHQgKi9cblx0XHRfYnBNaW4gPSBmdW5jdGlvbihtaW4sIHByb3BlcnR5KSB7XG5cdFx0XHR2YXIgYnBNaW4gPSBfYnBUb0VtcyhtaW4pLFxuXHRcdFx0XHRicFR5cGUgPSAodHlwZW9mIChwcm9wZXJ0eSkgPT09ICdzdHJpbmcnKSA/IHByb3BlcnR5IDogJ3dpZHRoJztcblxuXHRcdFx0cmV0dXJuICcobWluLScgKyBicFR5cGUgKyAnOiAnICsgYnBNaW4gKyAnZW0pJztcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhIG1heC13aWR0aCBtZWRpYSBxdWVyeSBiYXNlZCBvbiBicCBuYW1lIG9yIHB4XG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1heCBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVsc1xuXHRcdCAqIEBwYXJhbSAge1N0cmluZ30gW3Byb3BlcnR5PSd3aWR0aCddIFByb3BlcnR5IHRvIGNoZWNrIHVzaW5nIGEgbWVkaWEgcXVlcnkuIGUuZy4gd2lkdGggb3IgaGVpZ2h0XG5cdFx0ICogQHJldHVybiB7U3RyaW5nfSBNZWRpYSBxdWVyeSBzdHJpbmdcblx0XHQgKi9cblx0XHRfYnBNYXggPSBmdW5jdGlvbihtYXgsIHByb3BlcnR5KSB7XG5cdFx0XHR2YXIgYnBNYXggPSBfYnBUb0VtcyhtYXgsIHRydWUpLFxuXHRcdFx0XHRicFR5cGUgPSAodHlwZW9mIChwcm9wZXJ0eSkgPT09ICdzdHJpbmcnKSA/IHByb3BlcnR5IDogJ3dpZHRoJztcblxuXHRcdFx0cmV0dXJuICcobWF4LScgKyBicFR5cGUgKyAnOiAnICsgYnBNYXggKyAnZW0pJztcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhIG1pbi13aWR0aCBhbmQgbWF4LXdpZHRoIG1lZGlhIHF1ZXJ5IGJhc2VkIG9uIGJwIG5hbWUgKGNhbiBiZSB0aGUgc2FtZSBicCBuYW1lKSBvciBweFxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtaW4gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBtYXggQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd9IFtwcm9wZXJ0eT0nd2lkdGgnXSBQcm9wZXJ0eSB0byBjaGVjayB1c2luZyBhIG1lZGlhIHF1ZXJ5LiBlLmcuIHdpZHRoIG9yIGhlaWdodFxuXHRcdCAqIEByZXR1cm4ge1N0cmluZ30gTWVkaWEgcXVlcnkgc3RyaW5nXG5cdFx0ICovXG5cdFx0X2JwQmV0d2VlbiA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBwcm9wZXJ0eSkge1xuXHRcdFx0dmFyIGJwTWluID0gX2JwVG9FbXMobWluKSxcblx0XHRcdFx0YnBNYXggPSBfYnBUb0VtcyhtYXgsIHRydWUpLFxuXHRcdFx0XHRicFR5cGUgPSAodHlwZW9mIChwcm9wZXJ0eSkgPT09ICdzdHJpbmcnKSA/IHByb3BlcnR5IDogJ3dpZHRoJztcblxuXHRcdFx0cmV0dXJuICcobWluLScgKyBicFR5cGUgKyAnOiAnICsgYnBNaW4gKyAnZW0pIGFuZCAobWF4LScgKyBicFR5cGUgKyAnOiAnICsgYnBNYXggKyAnZW0pJztcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQnJlYWtwb2ludCBmdW5jdGlvbiB0aGF0IGNhbiB0YWtlIHRoZSBpbnB1dCBvZiBhIG1pbiBhbmQgbWF4XG5cdFx0ICogYnJlYWtwb2ludCBieSBuYW1lIG9yIG51bWJlciAoaW4gcHgpIGFsb25nIHdpdGggYSBwcm9wZXJ0eVxuXHRcdCAqIChsaWtlIHdpZHRoIG9yIGhlaWdodCkgYW5kIHJldHVybnMgdGhlIG1lZGlhIHF1ZXJ5IGFzIGEgc3RyaW5nXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIGxhcmdlIGFuZCBhYm92ZVxuXHRcdCAqIERELmJwLmdldCgnbCcpO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyAzMDBweCBhbmQgYWJvdmVcblx0XHQgKiBERC5icC5nZXQoMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gbGFyZ2UgYW5kIGJlbG93XG5cdFx0ICogREQuYnAuZ2V0KDAsICdsJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIDMwMHB4IGFuZCBiZWxvd1xuXHRcdCAqIERELmJwLmdldCgwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBCZXR3ZWVuIHNtYWxsIGFuZCBsYXJnZVxuXHRcdCAqIERELmJwLmdldCgncycsICdsJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIEJldHdlZW4gMTAwcHggYW5kIDMwMHB4XG5cdFx0ICogREQuYnAuZ2V0KDEwMCwgMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gSGlnaCByZXNvbHV0aW9uIGRpc3BsYXlzIChjYW4gdXNlICdoZHBpJyBhcyB3ZWxsKVxuXHRcdCAqIERELmJwLmdldCgncmV0aW5hJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIENhbiBtaXggYW5kIG1hdGNoIG5hbWVzIGFuZCBudW1iZXJzIC0gYmV0d2VlbiAyMDBweCBhbmQgeGxhcmdlXG5cdFx0ICogREQuYnAuZ2V0KDIwMCwgJ3hsJyk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIEJldHdlZW4gc21hbGwgYW5kIDk2MHB4XG5cdFx0ICogREQuYnAuZ2V0KCdzJywgOTYwKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gQ2FuIHVzZSBhIHNpbmdsZSBzdHJpbmcgKG5vIHNwYWNlcykgLSB1c2VmdWwgZm9yIHBhc3NpbmcgdGhyb3VnaCBmcm9tIEhUTUwgdG8gSlNcblx0XHQgKiBERC5icC5nZXQoJ20sbCcpO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBDYW4gYWxzbyBtaXggbmFtZXMgYW5kIG51bWJlcnNcblx0XHQgKiBERC5icC5nZXQoJ3hzLDEwMDAnKTtcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVscywgb3IgaW4gY29tbWEgc2VwYXJhdGVkIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IFttYXg9MF0gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd9IFtwcm9wZXJ0eT0nd2lkdGgnXSBQcm9wZXJ0eSB0byBjaGVjayB1c2luZyBhIG1lZGlhIHF1ZXJ5LiBlLmcuIHdpZHRoIG9yIGhlaWdodFxuXHRcdCAqIEByZXR1cm4ge1N0cmluZ30gTWVkaWEgcXVlcnkgc3RyaW5nXG5cdFx0ICovXG5cdFx0Z2V0ID0gZnVuY3Rpb24obWluLCBtYXgsIHByb3BlcnR5KSB7XG5cdFx0XHR2YXIgcGFyc2VkID0gX3BhcnNlTWluTWF4SW5wdXRzKG1pbiwgbWF4KSxcblx0XHRcdFx0YnBNaW4gPSBwYXJzZWQubWluLFxuXHRcdFx0XHRicE1heCA9IHBhcnNlZC5tYXg7XG5cblx0XHRcdGlmICh0eXBlb2YgKHByb3BlcnR5KSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cHJvcGVydHkgPSAnd2lkdGgnOyAvL2RlZmF1bHQgdG8gd2lkdGggYmFzZWQgbWVkaWEgcXVlcnlcblx0XHRcdH1cblxuXHRcdFx0Ly9jaGVjayB3aGF0IHR5cGUgb2YgYnAgaXQgaXNcblx0XHRcdGlmIChicE1pbiA9PT0gJ3JldGluYScgfHwgYnBNaW4gPT09ICdoZHBpJykge1xuXHRcdFx0XHRyZXR1cm4gJygtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAzLzIpLCAobWluLWRldmljZS1waXhlbC1yYXRpbzogMS41KSc7XG5cdFx0XHR9IGVsc2UgaWYgKGJwTWF4ID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBfYnBNaW4oYnBNaW4sIHByb3BlcnR5KTtcblx0XHRcdH0gZWxzZSBpZiAoYnBNaW4gPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIF9icE1heChicE1heCwgcHJvcGVydHkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIF9icEJldHdlZW4oYnBNaW4sIGJwTWF4LCBwcm9wZXJ0eSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFNob3J0Y3V0IGZvciB0aGUgZ2V0KCkgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgaGVpZ2h0XG5cdFx0ICogYmFzZWQgbWVkaWEgcXVlcnkgYW5kIHJldHVybnMgdGhlIG1lZGlhIHF1ZXJ5IGFzIGEgc3RyaW5nXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgREQuYnBcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIEhlaWdodCBvZiAzMDBweCBhbmQgYWJvdmVcblx0XHQgKiBERC5icC5nZXRIZWlnaHQoMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gSGVpZ2h0IG9mIDMwMHB4IGFuZCBiZWxvd1xuXHRcdCAqIERELmJwLmdldEhlaWdodCgwLCAzMDApO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyBCZXR3ZWVuIDEwMHB4IGFuZCAzMDBweCBoaWdoXG5cdFx0ICogREQuYnAuZ2V0SGVpZ2h0KDEwMCwgMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVscywgb3IgaW4gY29tbWEgc2VwYXJhdGVkIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IFttYXg9MF0gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IE1lZGlhIHF1ZXJ5IHN0cmluZ1xuXHRcdCAqL1xuXHRcdGdldEhlaWdodCA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KG1pbiwgbWF4LCAnaGVpZ2h0Jyk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJyZWFrcG9pbnQgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgc2FtZSBpbnB1dHMgYXMgZ2V0KCkgYnV0XG5cdFx0ICogaW5zdGVhZCBvZiByZXR1cm5pbmcgdGhlIG1lZGlhIHF1ZXJ5IGFzIGEgc3RyaW5nIHJldHVybnNcblx0XHQgKiBpZiB0aGUgY3VycmVudCBwYWdlIG1hdGNoZXMgdGhhdCBxdWVyeSBhcyBhIGJvb2xlYW4gdXNpbmdcblx0XHQgKiB3aW5kb3cubWF0Y2hNZWRpYShtcSkubWF0Y2hlc1xuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyByZXR1cm5zIHRydWUgaWYgdGhlIHBhZ2UgaXMgYmV0d2VlbiB4cyBhbmQgc1xuXHRcdCAqIERELmJwLmlzKCd4cyxzJyk7XG5cdFx0ICogREQuYnAuaXMoJ3hzJywncycpO1xuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyByZXR1cm5zIHRydWUgaWYgdGhlIHBhZ2UgaXMgYmV0d2VlbiAwIGFuZCAzMDBweCB3aWRlXG5cdFx0ICogREQuYnAuaXMoJzAsMzAwJyk7XG5cdFx0ICogREQuYnAuaXMoMCwgMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVscywgb3IgaW4gY29tbWEgc2VwYXJhdGVkIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IFttYXg9MF0gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd9IFtwcm9wZXJ0eT0nd2lkdGgnXSBQcm9wZXJ0eSB0byBjaGVjayB1c2luZyBhIG1lZGlhIHF1ZXJ5LiBlLmcuIHdpZHRoIG9yIGhlaWdodFxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0aXMgPSBmdW5jdGlvbihtaW4sIG1heCwgcHJvcGVydHkpIHtcblx0XHRcdGlmIChfb3B0aW9ucy5pc1Jlc3BvbnNpdmUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHJldHVybiBfYnBJc1ZhbGlkRm9yU3RhdGljKG1pbiwgbWF4LCBwcm9wZXJ0eSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xuXHRcdFx0XHRyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoZ2V0KG1pbiwgbWF4LCBwcm9wZXJ0eSkpLm1hdGNoZXM7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnNvbGUud2FybignREQuYnA6IE1hdGNoIE1lZGlhIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiBDb25zaWRlciBhZGRpbmcgYSBwb2x5ZmlsbC4nKTtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBTaG9ydGN1dCBmb3IgdGhlIGlzKCkgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgaGVpZ2h0XG5cdFx0ICogYmFzZWQgbWVkaWEgcXVlcnkgYW5kIHJldHVybnMgdGhlIG1lZGlhIHF1ZXJ5IGFzIGEgYm9vbGVhblxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIERELmJwXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiAvLyByZXR1cm5zIHRydWUgaWYgdGhlIHBhZ2UgaXMgYmV0d2VlbiAwIGFuZCAzMDBweCBoaWdoXG5cdFx0ICogREQuYnAuaXNIZWlnaHQoJzAsMzAwJyk7XG5cdFx0ICogREQuYnAuaXNIZWlnaHQoMCwgMzAwKTtcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG1pbiBCcmVha3BvaW50IG5hbWUgYXMgYSBzdHJpbmcsIG9yIGFzIGEgbnVtYmVyIGluIHBpeGVscywgb3IgaW4gY29tbWEgc2VwYXJhdGVkIHN0cmluZyBub3RhdGlvblxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IFttYXg9MF0gQnJlYWtwb2ludCBuYW1lIGFzIGEgc3RyaW5nLCBvciBhcyBhIG51bWJlciBpbiBwaXhlbHNcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdGlzSGVpZ2h0ID0gZnVuY3Rpb24obWluLCBtYXgpIHtcblx0XHRcdHJldHVybiBpcyhtaW4sIG1heCwgJ2hlaWdodCcpO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBWYWxpZCBvcHRpb25zIGZvciB0aGUgQnJlYWtwb2ludHMgYXJyYXlcblx0XHQgKlxuXHRcdCAqIEB0eXBlZGVmICB7T2JqZWN0fSBERC5icC5CcmVha3BvaW50T3B0aW9uc1xuXHRcdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGJyZWFrcG9pbnQgZS5nLiAncycsICdtJywgJ2wnXG5cdFx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IHB4IE51bWJlciBpbiBweCBmb3IgdGhlIHNpemUgb2YgdGhlIGJyZWFrcG9pbnRcblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIFZhbGlkIG9wdGlvbnMgZm9yIHRoZSBCcmVha3BvaW50cyBsaWJyYXJ5XG5cdFx0ICpcblx0XHQgKiBAdHlwZWRlZiAge09iamVjdH0gREQuYnAuT3B0aW9uc1xuXHRcdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbYmFzZUZvbnRTaXplXSBOdW1iZXIgaW4gcHggdG8gYmUgdXNlZCBhcyBhIGJhc2UgZm9udCBzaXplIGluIG9yZGVyIHRvIGNhbGN1bGF0ZSBlbSB2YWx1ZXNcblx0XHQgKiBAcHJvcGVydHkge0RELmJwLkJyZWFrcG9pbnRPcHRpb25zW119IFticmVha3BvaW50c11cblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIFVzZXIgdXBkYXRhYmxlIG9wdGlvbnNcblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBERC5icFxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogLy8gdXBkYXRlIHRoZSBiYXNlIGZvbnQgc2l6ZSBvbmx5XG5cdFx0ICogREQuYnAub3B0aW9ucyh7XG5cdFx0ICogICBiYXNlRm9udFNpemU6IDE0XG5cdFx0ICogfSk7XG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIC8vIHVwZGF0ZSB0aGUgYnJlYWtwb2ludHNcblx0XHQgKiBERC5icC5vcHRpb25zKHtcblx0XHQgKiAgIGJyZWFrcG9pbnRzOiBbXG5cdFx0ICogICAgIHsgbmFtZTogJ3NtYWxsJywgcHg6IDQwMCB9LFxuXHRcdCAqICAgICB7IG5hbWU6ICdtZWRpdW0nLCBweDogODAwIH0sXG5cdFx0ICogICAgIHsgbmFtZTogJ2xhcmdlJywgcHg6IDEyMDAgfVxuXHRcdCAqICAgXVxuXHRcdCAqIH0pO1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7REQuYnAuT3B0aW9uc30gb3B0cyBPcHRpb25zIGluc2lkZSB0aGUgbGlicmFyeSB0byBiZSB1cGRhdGVkXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRvcHRpb25zID0gZnVuY3Rpb24ob3B0cykge1xuXHRcdFx0aWYgKHR5cGVvZiAob3B0cy5pc1Jlc3BvbnNpdmUpID09PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0X29wdGlvbnMuaXNSZXNwb25zaXZlID0gb3B0cy5pc1Jlc3BvbnNpdmU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgKG9wdHMuYmFzZUZvbnRTaXplKSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0X29wdGlvbnMuYmFzZUZvbnRTaXplID0gb3B0cy5iYXNlRm9udFNpemU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgKG9wdHMuYnJlYWtwb2ludHMpID09PSAnb2JqZWN0JyAmJiBvcHRzLmJyZWFrcG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dmFyIGlzVmFsaWQgPSB0cnVlLFxuXHRcdFx0XHRcdGJwcyA9IG9wdHMuYnJlYWtwb2ludHM7XG5cblx0XHRcdFx0Ly8gbG9vcCB0aHJvdWdoIHRoZSBicmVha3BvaW50cyB0byBjaGVjayB2YWxpZGl0eVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gYnBzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdFx0aWYgKChicHNbaV0uaGFzT3duUHJvcGVydHkoJ25hbWUnKSAmJiBicHNbaV0uaGFzT3duUHJvcGVydHkoJ3B4JykpID09PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0aXNWYWxpZCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc1ZhbGlkKSB7XG5cdFx0XHRcdFx0X29wdGlvbnMuYnJlYWtwb2ludHMgPSBvcHRzLmJyZWFrcG9pbnRzO1xuXHRcdFx0XHRcdF9pbml0QnJlYWtwb2ludHMoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0RELmJwOiBJbnZhbGlkIGJyZWFrcG9pbnRzIGFycmF5IGVudGVyZWQuIFBsZWFzZSB1c2UgdGhlIGZvcm1hdCB7bmFtZTogXFwnc3RyaW5nXFwnLCBweDogbnVtYmVyfScpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGdldDogZ2V0LFxuXHRcdFx0Z2V0SGVpZ2h0OiBnZXRIZWlnaHQsXG5cdFx0XHRpczogaXMsXG5cdFx0XHRpc0hlaWdodDogaXNIZWlnaHQsXG5cdFx0XHRvcHRpb25zOiBvcHRpb25zXG5cdFx0fTtcblx0fSgpKTtcblxufSgpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
